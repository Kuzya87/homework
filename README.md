# Описание выполненного домашнего задания

1. По основной части ДЗ всё было успешно выполнено:

        Apply complete! Resources: 9 added, 0 changed, 0 destroyed.

        Outputs:

        database_host_fqdn = tolist([
          "rc1b-u6n53aehka3erolg.mdb.yandexcloud.net",
          "rc1c-13fpnl73qqd5t9hg.mdb.yandexcloud.net",
        ])
        load_balancer_public_ip = tolist([
          "51.250.27.61",
        ])
    
    Удаление также прошло успешно.

2. Задание со звёздочкой успешно выполнено - вручную создан сервисный аккаунт, ему назначены права на каталог и Terraform всё выполняет от его имени.

3. Задание с двумя звёдочками не нашёл как выполнить, если строго следовать духу и букве описания ДЗ.

    Можно вместо yandex_compute_instance использовать yandex_compute_instance_group сразу со встроенным в спецификацию load_balancer и вообще отказаться от файла lb.tf, однако явно не это ожидается. Хотя исходя из произвольного количества ВМ это кажется самым вменяемым решением, да и ВМ в такой группе постараются сами распределится между зонами доступности.

    Можно продолжать использовать yandex_compute_instance вкупе с count и для рандомизации зоны доступности использовать ресурс "random_shuffle" из провайдера "random", однако в задании явно говорится, что изменить нужно именно манифесты создания виртуальных машин и балансировщика, но не манифест провайдера. Да и сам HashiCorp не особо рекомендует такой подход.

    Можно продолжать использовать yandex_compute_instance вкупе с count, отказаться от распределения ВМ по зонам доступности и все ВМ пихать в одну зону, но это очевидно противоречит духу задания, так как в нём подчёркивается отказоустойчивость.